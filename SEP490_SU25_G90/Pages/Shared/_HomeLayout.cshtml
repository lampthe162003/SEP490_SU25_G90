<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Trung Tâm Lái Xe Bắc Hà</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/SEP490_SU25_G90.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    @RenderSection("Styles", required: false)
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-container">
            <div class="logo"><a asp-page="/Home/Index">Trung Tâm Lái Xe Bắc Hà</a></div>
            <div class="nav-row">
                <nav class="nav-menu">
                    <a asp-page="/Home/Index">Trang chủ</a>
                    <!-- Giới thiệu -->
                    <a href="#about">Giới thiệu</a>

                    <!-- Tài liệu -->
                    <a href="/Learner/LearningMaterial/LearningMaterialList">Tài liệu </a>

                    <a href="/Learner/News/ListNews">Thông Báo</a>
                    <a href="#contact">Liên hệ</a>
                </nav>

                @if (User.Identity.Name == null)
                {
                    <a asp-page="/Commons/Login" class="login-link">Đăng nhập</a>
                }
                else
                {
                    <div class="user-menu">
                        <div class="user-info">
                            <div class="username">
                                <div><strong>@User.Identity.Name</strong></div>
                                <div class="role">Học viên</div>
                            </div>
                            <i class="fas fa-user-circle fa-2x" id="userIcon"></i>
                        </div>
                        <div class="user-dropdown" id="userDropdown">
                            <a href="/Learner/Profile?userId=@(User.FindFirst("user_id")?.Value)">Hồ sơ người dùng</a>
                            <a href="/ChangePassword">Đổi mật khẩu</a>
                            <a href="/Logout">Đăng xuất</a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container my-5">
        <main role="main">
            @RenderBody()
        </main>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <h5 class="footer-title">Giới Thiệu</h5>
                    <p>Trung Tâm Lái Xe Bắc Hà là trung tâm đào tạo lái xe uy tín, chuyên nghiệp. Chúng tôi cam kết mang đến chất lượng đào tạo tốt nhất với đội ngũ giáo viên giàu kinh nghiệm.</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="col-lg-4 offset-lg-4 col-md-6 offset-md-0 mb-4">
                    <h5 class="footer-title">Thông Tin Liên Hệ</h5>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> <span>Địa chỉ:</span> 123 Đường ABC, Quận XYZ, TP. Hà Nội</li>
                        <li><i class="fas fa-phone-alt"></i> <span>Điện thoại:</span> <a href="tel:+84123456789">0123 456 789</a></li>
                        <li><i class="fas fa-envelope"></i> <span>Email:</span> <a href="mailto:contact@lai-xe-bacha.vn">contact@lai-xe-bacha.vn</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function () {
            // Toggle user dropdown
            $('#userIcon').click(function (e) {
                e.stopPropagation();
                $('#userDropdown').toggleClass('show');
            });

            // Close dropdown when clicking outside
            $(document).click(function () {
                $('#userDropdown').removeClass('show');
            });

            // Prevent dropdown from closing when clicking inside
            $('#userDropdown').click(function (e) {
                e.stopPropagation();
            });
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
